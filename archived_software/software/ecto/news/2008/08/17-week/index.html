<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard"><head>
   <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <meta name="generator" content="Movable Type 4.2rc5-en">

   <link rel="stylesheet" href="http://infinite-sushi.com/software/ecto/news/styles-site.css" type="text/css">
   <link rel="alternate" type="application/atom+xml" title="Atom" href="../../../atom.xml">
   <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="../../../index.xml.rss" $=""></head><body class="layout-one-column">" /&gt;

   <title>ecto: August 17, 2008 - August 23, 2008 Archives</title>

   <link rel="start" href="../../../index.html" title="Home">
   <link rel="prev" href="../../06/29-week/index.html" title="June 29, 2008 - July  5, 2008">
   <link rel="next" href="../31-week/index.html" title="August 31, 2008 - September  6, 2008">


   <div id="container">
      <div id="container-inner" class="pkg">

         <div id="banner">
            <div id="banner-inner" class="pkg">
               <h1 id="banner-header"><a href="../../../index.html" accesskey="1">ecto</a></h1>
               <h2 id="banner-description">All the news about ecto</h2>
            </div>
         </div>

         <div id="pagebody">
            <div id="pagebody-inner" class="pkg">
               <div id="alpha">
                  <div id="alpha-inner" class="pkg">
                     
                     <p class="content-nav">
                        <a href="../../06/29-week/index.html">« June 29, 2008 - July  5, 2008</a> |
                        <a href="../../../index.html">Main</a>
                        | <a href="../31-week/index.html">August 31, 2008 - September  6, 2008 »</a>
                     </p>
                     
                     
                     

                     <h2 class="date-header">August 22, 2008</h2>
                     <a id="a001799"></a>
                     <div class="entry" id="entry-1799">
                        <h3 class="entry-header">Writing add-ons for ecto</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>ecto has several built-in add-ons that manipulate text in the active editing area, such as for example, Amazon Helper, Flickr Helper, and Scripts. You can write your own add-on. To explain how to, I figure it's best to use a sample add-on. After all, what's the better way to learn how to write an add-on for ecto3 than to see a working example? I uploaded the source code of the iTunes add-on as a <a href="../../../../download/itunes_addon_code.zip">53.8 KB zip file</a>. The iTunes add-on grabs info of the currently playing song in iTunes and returns it as a formatted string to ecto, which then inserts it into the active editing area.
</p><p>The zip archive contains an <a href="http://developer.apple.com/tools/xcode/">XCode</a> project with everything necessary to have an add-on working. You can work right on top of this file, but you'll have to rename source code files and class names to prevent conflicts (see <a href="../../../2007/12/writing_your_own_uploader.php.html">this blog entry</a> for directions).</p>
<p>The meat of the code is one call the add-on gets from ecto:</p>
<p><code>- (id)addonRequested:(id)delegate selection:(NSString*)selectedText subaction:(NSString*)subaction
</code></p>
<p>
ecto calls the addon with selected text or full text from active text area (depending on a setting you define in the add-on) and a delegate. Once done, you'd call the delegate using the selector 'addonFinished' and a string (return nil to cancel the action). All text should be plain text (in HTML or any of the supported formats). If you require feedback from the user, return an object that instantiates a nib and responds to @selector(view) to return a view for display. If you return an object, the delegate will keep it around for as long the delegate is alive, and send any following addonRequested calls directly to the object.  There is no need to manage objects you return. The delegate will release when done. Just make sure not to autorelease it.
</p><p>
The iTunes add-on doesn't use a nib when called by the user (Amazon Helper and Flickr Helper do). It just returns text, so it's the easiest type of add-on. It also offers a preferences view so the user can define settings specific to the add-on (via ecto -&gt; Settings -&gt; Tools &amp; Add-ons).
</p><p>
If you're familiar with Objective-C and Cocoa, the project should be decent study material. If you have questions, pose them in the <a href="http://infinite-sushi.com/support/viewforum.php?f=28">Developer Forum</a> or <a href="../../../../../../contact/index.html">contact me</a> directly. I'd be more than happy to provide more info, advice or an example add-on that uses a nib.</p>

                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by Adriaan at 12:31 AM</span> <span class="separator">|</span> <a class="permalink" href="../writing_add-ons_for_ecto.php.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                     

                     
                     <a id="a001798"></a>
                     <div class="entry" id="entry-1798">
                        <h3 class="entry-header">iTunes add-on</h3>
                        <div class="entry-content">
                           <div class="entry-body">
                              <p>A plugin that will insert the currently playing track in iTunes into the text you're editing. Download <a href="../../../../download/itunes.zip">itunes.zip</a> (26.1Kb). Double-click to install or manually copy to the <code>~/Library/Application Support/ecto3/addons/</code> directory.</p>
<p><strong>Usage</strong><br>
Once the addon is installed, launch ecto. You can invoke the add-on from the Tools menu or the draft window's toolbar. To change settings, go to <span style="font: bold 13px 'Lucida Grande'">Settings</span> under the <span style="font: bold 13px 'Lucida Grande';">ecto</span> menu and choose the <span style="font: bold 13px 'Lucida Grande';">Tools &amp; Addons…</span> menu item. Select the "iTunes" item from the popup and configure to your liking.</p>
<div class="itunes_track">Listened to:<br><span class="title">Stand In Silence</span> from the album "<span class="album">So Divided</span>" by <span class="artist"><a href="http://www.google.com/search?q=%22And%20You%20Will%20Know%20Us%20By%20The%20Trail%20Of%20Dead%22">And You Will Know Us By The Trail Of Dead</a></span></div>
                              
                              <p class="entry-footer">
                                 <span class="post-footers">Posted by Adriaan at 12:26 AM</span> <span class="separator">|</span> <a class="permalink" href="../itunes_add-on.php.html">Permalink</a>
                                 
                                 
                              </p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>


</body></html>