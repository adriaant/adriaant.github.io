<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>infinite-sushi.com - Writing your own formatter</title>
	<link rel="stylesheet" type="text/css" href="../../../../../_site/skin/style/style.css">
	<script type="text/javascript" src="../../../../../_site/skin/js/global.js"></script>
	<script type="text/javascript" src="../../mt-site.js"></script>	<link rel="alternate" type="application/rss+xml" title="RSS" href="../../index.xml.rss">	<link rel="alternate" type="application/atom+xml" title="Atom" href="../../atom.xml"></head>

<body>
<div id="container">
	<div id="banner">
		<ul id="glob">
	<li><a class="a" href="../../../../../contact/index.html" title="//contact/">contact</a></li>
</ul>		<h1><a href="../../../../../index.html">infinite sushi</a></h1>
			</div>
	<div id="topbar">
	<a class="on" id="ecto" href="../../../index.html" title="//software/ecto/"><span>ecto</span><br><em>desktop blogging</em></a>
	<a class="off" id="endo" href="../../../../endo/index.html" title="//software/endo/"><span>endo</span><br><em>total aggregation</em></a>
	<a class="off" id="duh1001" href="../../../../1001/index.html" title="//software/1001/"><span>1001</span><br><em>flickr accessory</em></a>
<p class="clear"><!-- --></p></div>
	<div id="center">
		<div id="sidebar-one">
		<ul class="navbar" id="loca">
	<li class="off"><a href="../../../screenshots/index.html" title="//software/ecto/screenshots/">screenshots</a></li>
	<li class="off"><a href="../../../download/index.html" title="//software/ecto/download/">download &amp; buy</a></li>
	<li class="off"><a href="../../../documentation/index.html" title="//software/ecto/documentation/">documentation</a></li>
	<li class="off"><a href="../../../support/index.html" title="//software/ecto/support/">support</a></li>
	<li class="on"><a href="../../index.html" title="//software/ecto/news/">news</a></li>
	<li class="off"><a href="../../../plugins/index.html" title="//software/ecto/plugins/">plugins</a></li>
	<li class="off"><a href="../../../scripts/index.html" title="//software/ecto/scripts/">scripts</a></li>
	<li class="off"><a href="../../../developer/index.html" title="//software/ecto/developer/">developer</a></li>
</ul>
		</div>
		<h2>Writing your own formatter</h2>
		<div id="content">
<!-- - - - - - - - - - - end top -->

<div id="blogmenu">
	
	«&nbsp;<a href="../03/the_draft_url_scheme.php.html">The x-blogpost: URL scheme</a> |
	
	<a href="../../index.html">main page</a>
	
	| <a href="../08/itunes_add-on.php.html">iTunes add-on</a>&nbsp;»
	
</div>

<div class="blogentry">
	<div class="posted">Thu, 2008-07-03</div>
	<h4>Writing your own formatter</h4>
	<div class="discuss"></div>
	<div class="cats">
  
  <a href="../../developer/index.html" title="developer">developer</a>
   / 
  <a href="http://technorati.com/tag/addon" rel="tag">addon</a> / 
  <a href="http://technorati.com/tag/ecto3" rel="tag">ecto3</a> / 
  <a href="http://technorati.com/tag/formatter" rel="tag">formatter</a>
	</div>
	<div class="entrybody">
		<p>Some blog systems (Drupal, MovableType, TypePad) provide a blog client (such as <a href="../../../../../ecto.zip">ecto</a>) with a list of available text formats. This allows the user to write a post in ecto using, for example Markdown, and have ecto inform the blog system on publish that it should interpret the text as Markdown. </p>
<p>Markdown and Textile formatters are built into ecto, so that when you preview your post the text is correctly converted to HTML. You can, however, create custom formatters for any formats that your blog system uses but isn't handled by ecto (e.g. MathML). </p>
<p>To get you going, I have made the <a href="../../../download/Markdown.zip">source code of the Markdown formatter</a> available. </p>
<p>Once you've downloaded and unpacked the sample, rename the project. Ideally, you'd use the name of the format provided by your blog system. Let's assume your formatter will be called MathML. In the Finder, rename "Markdown.xcodeproj" to "MathML.xcodeproj". Double-click the file to open it. Make sure to use the Release build configuration. In the Groups &amp; Files list, click on "Markdown" under the "Targets" section. Select File → Get Info. Under "Build", find the values for "Product Name" and "Prefix Header" and rename them. Under "Properties", assign a unique identifier, e.g. com.thirdparty.ecto_mathml and change the principal class to "MathML". Close the Get Info window.</p>
<p>Back in Groups &amp; Files, rename any files containing "Markdown" so that they contain "MathML". You will then have to rename the class names inside those files as well. In other words, class Markdown becomes MathML, and so forth.</p>
<p>Do NOT rename "FormatterInterface.h" and do NOT rename the "ECTOFormatterProtocol" protocol name.</p>
<p>In Markdown.m, you will also need to change the code for <code>"-(NSString*)formatterKey</code>", "<code>-(NSString*)formatterDescription</code>" and "<code>-(BOOL)willHandleFormat</code>".</p>
<p>The formatter plug-in has one entry point: "<code>- (NSString*)formatText:(NSString*)source</code>". That's where the conversion to HTML happens. For Markdown, I used Perl scripts, which are accessed via a pipe. See the code for details.</p>
<p>Some blog systems, such as WordPress, do not provide a list of formatters. When you preview posts in ecto written for these blog systems, ecto uses a special built-in formatter, Generic.formatter. It analyzes the text and will format accordingly (it recognizes Markdown and Textile). You could write your own Generic.formatter and install it into ~/Library/Application Support/ecto3/formatters/ and it would override the built-in version. </p> 
<p>If you have any questions about writing a formatter, please visit the <a href="http://infinite-sushi.com/support/viewforum.php?f=28">Developer support forum</a>.</p>

		<a name="more"></a>
		
	</div>

		<div class="comments">
			<h5 id="comments"><a href="http://technorati.com/search/http:/infinite-sushi.com/software/ecto/news/2008/07/writing_your_own_formatter.php">Reactions on this post</a></h5>
    </div>

	

</div>
<!-- - - - - - - - - - - start bottom -->
		</div><!-- close content -->
	</div><!-- close center -->
	<div id="footer">
		<a href="../../../../../index.html" title="infinite-sushi.com">infinite-sushi.com</a><b>/</b><a href="../../../index.html">software</a><b>/</b><a href="../../../index.html">ecto</a><b>/</b><a href="../../index.html">news</a><b>/</b><a href="../index.html"></a>
	</div>
</div>
<p id="gen">Generated in: <b>0.00127</b> seconds.</p><script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1599194-5";
urchinTracker();
</script>


</body></html>